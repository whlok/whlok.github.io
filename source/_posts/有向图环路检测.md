---
title: 有向图环路检测
date: 2023-10-25 18:37:19
categories: 数据结构与算法
tags: 图论
---

## 概念
关于有向图的环路检测，首先我想先补充几个关于图的概念。
顶点：图中的每个点称为顶点。
顶点的入度：在有向图中，指以该顶点为终点的边的数目
顶点的出度：在有向图中，指以该顶点为起点的边的数目

## 方法
**方法一**：图中有环则表示至少有一条路径上出现俩个相同的顶点。该路径满足起点入度为0，终点出度为0.
可以使用一个集合表示每个顶点的状态，是否被标记过，但需要注意，这个点被检查过后需要去掉这个标记，因为一条路径上有环意味着会出现重复的顶点，但不同路径上出现相同的顶点上是允许的。
缺点：大量的点可能将被重复检查
优点：思路清晰，简单，递归实现。
**方法二**：图中若没有环，则必有一个节点的入度为0，依次删除入度为0的点及其相邻的边，最终的集合为空。
先构建俩个集合，一个入度为0的点集合，一个入度不为0的点集合，遍历入度为0的集合，依次删除，并更新入度为0的集合（删除就的点同时可能会增加新的点），直到入度为0的点的集合为空后，去检查出度为0的点是否为空，空则无环，否则有环。
缺点：内存组装对象麻烦
优点：所有的点只需要一次删除。快。
## 总结
方法1其实就是dfs；
方法2利用拓扑排序；拓扑排序，其实就是将一个有向无环图(Directed Acyclic Graph简称DAG)进行排序进而得到一个有序的线性序列。通常用来对具有依赖关系的任务进行排序，因此是从入度为0的点作为起始点，遍历整个图，输出顶点之间的顺序。

